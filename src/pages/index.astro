---
import BaseLayout from "../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug";

const posts = (await getCollection("blog")).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
const last_posts = posts.slice(0, 3);
---

<BaseLayout sideBarActiveItemID="home">
    <!-- Enhanced Hero Section with Animation -->
    <div class="container mx-auto px-4 py-12">
      <div class="text-center mb-12 animate-fadeIn">
        <h1 class="text-6xl font-bold mb-6 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
          Jon Kaplan
        </h1>
        
        <!-- Enhanced value proposition -->
        <div class="flex items-center justify-center gap-8 my-8">
          <div class="h-[2px] bg-primary w-16"></div>
          <p class="text-3xl font-semibold">Transforming Complex Technology into Human Solutions</p>
          <div class="h-[2px] bg-primary w-16"></div>
        </div>

        <!-- Refined role presentation -->
        <div class="flex flex-wrap justify-center gap-4 text-lg mb-8">
          <span class="badge badge-lg">Product Leadership</span>
          <span class="badge badge-lg">AI & Robotics</span>
          <span class="badge badge-lg">Autonomous Systems</span>
        </div>

        <!-- Punchy description with better readability -->
        <p class="text-lg max-w-2xl mx-auto mb-10 leading-relaxed">
          Currently leading autonomous systems at Wing (Alphabet) enabling millions of drone deliveries. 
          Previously transformed military exoskeletons and complex robotics into intuitive, human-centered products.
        </p>

        <!-- Enhanced CTA section -->
        <div class="flex justify-center gap-6">
          <a href="/cv" class="btn btn-primary btn-lg hover:scale-105 transition-transform">
            View Full CV
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </a>
          <a href="https://www.linkedin.com/in/jonathankaplan/" class="btn btn-outline btn-lg group hover:scale-105 transition-transform" target="_blank">
            Connect on LinkedIn
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform" viewBox="0 0 20 20" fill="currentColor">
              <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
              <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
            </svg>
          </a>
        </div>
      </div>
    </div>

    

    <!-- Enhanced Featured Projects Section -->
    <div class="mb-16 px-4">
      <h2 class="text-3xl font-bold mb-8 text-center">
        Featured Work
        <div class="w-24 h-1 bg-primary mx-auto mt-2 mb-6"></div>
      </h2>
      <div class="grid md:grid-cols-2 gap-8">
        <a href="https://wing.com/unmanned-traffic-management/" 
          target="_blank" 
          class="group"> 
          <div class="card bg-base-100 shadow-xl h-full hover:shadow-2xl transition-all duration-300 group-hover:-translate-y-2"> 
            <figure class="px-6 pt-6 overflow-hidden">
              <Image
                src="/Wing Delivery Drone.webp"
                alt="Wing Delivery Network"
                width={600}
                height={400}
                format="webp"
                class="rounded-xl h-48 w-full object-cover transform group-hover:scale-105 transition-transform duration-300"
              />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-xl group-hover:text-primary transition-colors">Wing Delivery Network</h3>
              <p class="text-base-content/80">Leading product development for autonomous drone delivery teleoperations, enabling safe operations across multiple countries</p>
              <div class="card-actions justify-end mt-4">
                <span class="badge badge-outline">Autonomous Systems</span>
                <span class="badge badge-outline">AI</span>
              </div>
            </div>
          </div>
        </a>

        <a href="https://web.archive.org/web/20211018235054/https://dephy.com/faster/" 
          target="_blank" 
          class="group"> 
          <div class="card bg-base-100 shadow-xl h-full hover:shadow-2xl transition-all duration-300 group-hover:-translate-y-2"> 
            <figure class="px-6 pt-6 overflow-hidden">
              <Image
                src="/FASTER.jpg"
                alt="FASTER Exoskeleton"
                width={600}
                height={400}
                format="webp"
                class="rounded-xl h-48 w-full object-cover transform group-hover:scale-105 transition-transform duration-300"
              />
            </figure>
            <div class="card-body">
              <h3 class="card-title text-xl group-hover:text-primary transition-colors">FASTER Wearable Robotics</h3>
              <p class="text-base-content/80">Developed AI-powered exoskeleton systems for military and research applications, securing $1M+ in funding</p>
              <div class="card-actions justify-end mt-4">
                <span class="badge badge-outline">Robotics</span>
                <span class="badge badge-outline">Machine Learning</span>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>

    <!-- Core Skills Section -->
    <div class="mb-20 px-4">
      <h2 class="text-3xl font-bold mb-12 text-center">
        Core Competencies
        <div class="w-24 h-1 bg-primary mx-auto mt-2 mb-6"></div>
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <h3 class="card-title mb-4">Product Development</h3>
            <ul class="space-y-2">
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                Product Strategy & Roadmapping
              </li>
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                User Research & Testing
              </li>
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                Cross-functional Leadership
              </li>
            </ul>
          </div>
        </div>

        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <h3 class="card-title mb-4">Technical Expertise</h3>
            <ul class="space-y-2">
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                AI & Machine Learning
              </li>
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                Robotics & Control Systems
              </li>
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                Python, C, MATLAB, SQL
              </li>
            </ul>
          </div>
        </div>

        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <h3 class="card-title mb-4">Domain Knowledge</h3>
            <ul class="space-y-2">
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                Autonomous Systems
              </li>
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                Human-Robot Interaction
              </li>
              <li class="flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                Biomechanics & Engineering
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Enhanced Blog Section -->
    {last_posts.length > 0 && 
      <div class="mb-20 px-4">
        <h2 class="text-3xl font-bold mb-12 text-center">
          Latest Insights
          <div class="w-24 h-1 bg-primary mx-auto mt-4"></div>
        </h2>
        <div class="space-y-6">
          {last_posts.map((post) => (
            <div class="hover:translate-x-2 transition-transform">
              <HorizontalCard
                title={post.data.title}
                img={post.data.heroImage}
                desc={post.data.description}
                url={`/blog/${createSlug(post.data.title, post.slug)}`}
                target="_self"
                badge={post.data.badge}
              />
            </div>
          ))}
        </div>
      </div>
    }
</BaseLayout>